---
import Layout from "../layouts/Layout.astro";
import HabitForm from "../components/HabitForm.astro";
import HabitCard from "../components/HabitCard.astro";

// TEMP sample data — replace with real data later
const habits = [
  { title: "Morning Run", streak: 12, weekly: 4, target: 5 },
  { title: "Study ML", streak: 7, weekly: 3, target: 4 },
  { title: "Meditation", streak: 21, weekly: 6, target: 7 },
];
---

<Layout>
  <!-- Page header -->
  <section class="mb-6">
    <h1 class="text-3xl font-bold">Your Daily Habits</h1>
    <p class="text-zinc-400">Track progress, keep streaks, and let AI coach your routines.</p>
  </section>

  <!-- Add habit -->
  <section class="rounded-2xl bg-zinc-900/40 ring-1 ring-white/10 p-5 mb-8">
    <h2 class="font-semibold mb-3">Add a habit</h2>
    <HabitForm />
    <p class="text-xs text-zinc-500 mt-2">Tip: start small (5–10 minutes) to build momentum.</p>
  </section>

  <!-- Habit list -->
  <section>
    <div class="flex items-center justify-between mb-3">
      <h2 class="font-semibold">This week</h2>
      <a href="/insights" class="text-sm text-zinc-300 hover:text-white underline underline-offset-4">
        See AI insights →
      </a>
    </div>

    <ul class="space-y-3">
      {habits.map(h => <HabitCard {...h} />)}
    </ul>
  </section>
</Layout>
